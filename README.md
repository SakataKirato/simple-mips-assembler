# シンプルMIPSアセンブラ

これはPythonで実装された、シンプルなMIPSアセンブラです。標準入力からMIPSアセンブリコードを受け取り、32ビットの16進数形式の機械語に変換します。

## 主な機能

- R形式、I形式、J形式の基本的な命令をサポート
- ジャンプや分岐のためのラベルに対応
- 標準入力からアセンブリコードを読み込み
- 32ビットの機械語を16進数形式で出力 (`0xXXXXXXXX_XXXXXXXX`)
- 簡単なエラーハンドリング機能

## 使い方

1.  ターミナルで以下のコマンドを実行します。
    ```bash
    python3 assembly.py
    ```

2.  スクリプトが起動し、アセンブリコードの入力を求められます。

3.  コードをターミナルに直接入力するか、貼り付けます。

4.  入力が終わったら、`Ctrl+D`（macOS/Linuxの場合）または `Ctrl+Z` -> `Enter`（Windowsの場合）を押して、入力の終了を伝えます。

5.  アセンブルが実行され、対応する機械語が出力されます。

##記述例

### 入力 (アセンブリコード)
```mips
# 簡単なループの例
   addi $t0, $zero, 5  # $t0 を 5 で初期化
   addi $s0, $zero, 0  # $s0 (合計) を 0 で初期化
LOOP:
   add $s0, $s0, $t0   # 合計に$t0を加算
   addi $t0, $t0, -1  # $t0をデクリメント
   bne $t0, $zero, LOOP # $t0が0でなければLOOPに分岐
   j END              # 終了ラベルにジャンプ
END:
```

### 出力 (機械語)
```
0x2008_0005	# addi $t0, $zero, 5
0x2010_0000	# addi $s0, $zero, 0
0x0208_8020	# add $s0, $s0, $t0
0x2108_ffff	# addi $t0, $t0, -1
0x1500_fffd	# bne $t0, $zero, LOOP
0x0800_0006	# j END
```

## サポートする命令一覧

| 形式   | 命令 | 構文例                  |
| :----- | :--- | :---------------------- |
| R形式  | `add`  | `add $d, $s, $t`        |
| R形式  | `sub`  | `sub $d, $s, $t`        |
| R形式  | `and`  | `and $d, $s, $t`        |
| R形式  | `or`   | `or $d, $s, $t`         |
| R形式  | `slt`  | `slt $d, $s, $t`        |
| R形式  | `sll`  | `sll $d, $t, shamt`     |
| I形式  | `addi` | `addi $t, $s, imm`      |
| I形式  | `lw`   | `lw $t, offset($s)`     |
| I形式  | `sw`   | `sw $t, offset($s)`     |
| I形式  | `beq`  | `beq $s, $t, label`     |
| I形式  | `bne`  | `bne $s, $t, label`     |
| J形式  | `j`    | `j label`               |

## サポートするレジスタ

`$zero`, `$t0`-`$t9`, `$s0`-`$s7`, `$a0`-`$a3`, `$v0`-`$v1`, `$sp`, `$ra` など、標準的なMIPSレジスタ名に対応しています。